<template>
  <!-- æ ‘çŠ¶ç»“æ„ç»„ä»¶ -->
  <!-- <div>æˆ‘æ˜¯æ ‘çŠ¶ç»“æ„ç»„ä»¶</div> -->
  <!-- å¦‚ä½•é€’å½’æ¸²æŸ“ -->
  <div v-for="item in props.data" :key="item.label">
    <div
    class=" box-border hover:bg-black hover:text-[#fff] cursor-pointer"
      :style="{
        paddingLeft: `${props.padding ?? 0}px`,
      }"
    >
      {{ item.label }}
    </div>

    <Tree
      :baz="b"
      v-if="item.children && item.children.length > 0"
      :data="item.children"
      :padding="props.padding + 10"
    ></Tree>
  </div>
</template>

<script setup>
// å¦‚ä½•è·å–ç»„ä»¶é€šè¿‡å±æ€§ä¼ é€’è¿‡æ¥çš„æ•°æ®(useAttrs)
import { data } from 'autoprefixer';
import { useAttrs, defineOptions, defineProps } from 'vue';

// è·å–è‡ªå®šä¹‰å±æ€§ä¸Šçš„å€¼ (ä½¿ç”¨äº†)
// const attrs = useAttrs();

//  é€šè¿‡defineOptions è§„å®šç»„ä»¶åç§°
defineOptions({ name: 'Tree' });
// attribute , property éƒ½ä»£è¡¨å±æ€§çš„æ„ä¹‰
// attribute ä¾§é‡è¡¨è¾¾HTMLå±æ€§ å‡ºç°åœ¨HTMLæ ‡ç­¾ä¸­
// property ä¾§é‡è¡¨è¾¾DOMå±æ€§ï¼Œä¸ä¼šå‡ºç°åœ¨HTMLæ ‡ç­¾ä¸­
// useAttrsæ²¡æœ‰æ•°æ®æ£€éªŒï¼Œå’Œé»˜è®¤å€¼åŠŸèƒ½ï¼Œä¸ä¸¥è°¨ä½†æ–¹ä¾¿
// defineProps ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦æ•°æ®æ£€éªŒè¿˜å…·å¤‡é»˜è®¤å€¼çš„åŠŸèƒ½(ä¸¥è°¨ä½†ä¸æ–¹ä¾¿) å¼ºçƒˆæ¨èï¼ï¼ï¼

// å…ˆå£°æ˜å±æ€§
// åªèƒ½è§„èŒƒæ•°æ®ç±»å‹ ä¸èƒ½ç»™é»˜è®¤å€¼
// const props = defineProps({
//   data: Array,
//   padding: Number,
// });

const props = defineProps({
  data: {
    type: Array, //è§„å®šå±æ€§ç±»å‹
    required: true, //è¡¨ç¤ºè¯¥å±æ€§ä¸ºæ¯”ä¼ å‚
    // default: [],  é»˜è®¤å€¼ å’Œå¿…ä¼ å‚ æ˜¯äº’æ–¥çš„
  },
  padding: {
    type: Number,
    default: 0,
  },
  baz: {
    required: true,
    validator(value) {
      console.log('ğŸš€ ~ tree.vue:56 ~ validator ~ value:', value);
      return ['a', 'b', 'c'].includes('abc');
    },
  },
});
</script>
