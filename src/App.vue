<template>
  <div>æˆ‘æ˜¯æ ‘çŠ¶ç»“æž„ç»„ä»¶</div>

  <!--åœ¨VUEä¸»é¡µé¢ä¸­æ’å…¥ Treeç»„ä»¶å¹¶ç»™å®ƒ ç»‘å®š data å±žæ€§ -->
  <Tree :data="data" :expandKeys="expandIds" @node-click="fn"></Tree>

  
</template>

<script setup>
// å¯¼å…¥è‡ªå®šä¹‰æ ‘çŠ¶ç»„ä»¶
import { ref } from 'vue';
import Tree from '@/components/Tree.vue';
// å¯¹æ•°æ®ä¿®æ”¹ ç»™æ¯ä¸€çº§ç›®å½• æ·»åŠ  id  å±žæ€§ç”¨ä»¥åˆ¤æ–­è¯¥ç›®å½•çš„å­ç›®å½•å±•å¼€/æ˜¾ç¤º
// å±•å¼€çš„ç›®å½•id

const expandIds = ref([]);

//  è¦å®žçŽ°ç‚¹å‡»å±•å¼€ç›®å½•åŠŸèƒ½ éœ€è¦ç»™æ¯ä¸€ä¸ªæ ‘çŠ¶ç»“æž„æ·»åŠ ç‚¹å‡»äº‹ä»¶

const data = [
  {
    label: 'ä¸€çº§ 1',
    id: 1,
    children: [
      {
        label: 'äºŒçº§ 1-1',
        id: 2,
        children: [
          {
            label: 'ä¸‰çº§ 1-1-1',
            id: 3,
          },
        ],
      },
    ],
  },

  {
    label: 'ä¸€çº§ 2',
    id: 4,
    children: [
      {
        label: 'äºŒçº§ 2-1',
        id: 5,
        children: [
          {
            label: 'ä¸‰çº§ 2-1-1',
          },
        ],
      },
      {
        label: 'äºŒçº§ 2-2',
        id: 6,
        children: [
          {
            label: 'ä¸‰çº§ 2-2-1',
            id: 7,
          },
        ],
      },
    ],
  },

  {
    label: 'ä¸€çº§ 3',
    id: 8,
    children: [
      {
        label: 'äºŒçº§ 3-1',
        id: 9,
        children: [
          {
            label: 'ä¸‰çº§ 3-1-1',
            id: 10,
          },
        ],
      },
      {
        label: 'äºŒçº§ 3-2',
        id: 11,
        children: [
          {
            label: 'ä¸‰çº§ 3-2-1',
            id: 12,
          },
        ],
      },
    ],
  },
];

function fn(id) {
  console.log('ðŸš€ ~ App.vue:92 ~ fn ~ id:', id);
  const index = expandIds.value.indexOf(id);
  if (index > -1) {
    expandIds.value.splice(index, 1);
  } else {
    expandIds.value.push(id);
  }
}
</script>
